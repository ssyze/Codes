# Educational Codeforces Round 93 (Rated for Div. 2)

## C.Good Subarrays

### 题意：

子区间的和为区间长度的区间为$good$，问有多少$good$区间

### 题解：

将每个$a_{i}-1$，就变成了求有多少区间的区间和为$0$

那么求前缀和时若这个前缀和出现过，就代表有$sum_{i}$个区间满足要求，加到$ans$里就好了

$tips:$$0$的区间一开始就是满足的

## D.Colored Rectangles

### 题意：

有三种颜色的棍子，分别有$r,g,b$

对红色，每一对的棍子长度为$r_{1},r_{2}\dots r_{r}$，其余颜色同理

现在要取两对不同颜色的棍子拼成长方形，贡献为长方形面积

每一对棍子只能被选择一次，求贡献的最大值

### 题解：

本来以为是直接贪就可以了，每次取乘积最大的两个，但是发现不行，那必然是$dp$了

数据范围才$1\le r,g,b \le 200$，可以考虑$O(n^3)$的$dp$，先对每种颜色的棍子$sort$一遍

接下来考虑状态转移，对于$dp[i][j][k]$表示前$i$对红棍子，前$j$对绿棍子和前$k$对蓝棍子能构成的最大贡献

因为对长度$sort$过了，那么转移应该是三种，选择①和②或①和③或②和③，分别列出三种转移
$$
dp[i][j][k]=max(dp[i][j][k],dp[i-1][j-1][k]+r[i]*g[j])\\
dp[i][j][k]=max(dp[i][j][k],dp[i-1][j][k-1]+r[i]*b[k])\\
dp[i][j][k]=max(dp[i][j][k],dp[i][j-1][k-1]+g[j]*b[k])
$$
然后就做完了